   1               		.file	"Wireless_Bootloader_ATmega328.c"
   2               	__SREG__ = 0x3f
   3               	__SP_H__ = 0x3e
   4               	__SP_L__ = 0x3d
   5               	__CCP__ = 0x34
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
  15               	.Ltext0:
  16               	.global	onboard_program_write
  18               	onboard_program_write:
  19               	.LFB9:
  20               	.LM1:
  21               	.LVL0:
  22 0000 0F93      		push r16
  23 0002 1F93      		push r17
  24 0004 CF93      		push r28
  25 0006 DF93      		push r29
  26               	/* prologue: function */
  27               	/* frame size = 0 */
  28               	/* stack size = 4 */
  29               	.L__stack_usage = 4
  30 0008 DA01      		movw r26,r20
  31               	.LM2:
  32 000a 1FB7      		in r17,__SREG__
  33               	.LVL1:
  34               	.LM3:
  35               	/* #APP */
  36               	 ;  206 "Wireless_Bootloader_ATmega328.c" 1
  37 000c F894      		cli
  38               	 ;  0 "" 2
  39               	/* #NOAPP */
  40               	.L2:
  41               	.LM4:
  42 000e F999      		sbic 63-32,1
  43 0010 00C0      		rjmp .L2
  44               	.LM5:
  45 0012 83E0      		ldi r24,lo8(3)
  46 0014 FB01      		movw r30,r22
  47               	/* #APP */
  48               	 ;  210 "Wireless_Bootloader_ATmega328.c" 1
  49 0016 8093 5700 		sts 87, r24
  50 001a E895      		spm
  51               		
  52               	 ;  0 "" 2
  53               	/* #NOAPP */
  54               	.L3:
  55               	.LM6:
  56 001c 07B6      		in __tmp_reg__,87-32
  57 001e 00FC      		sbrc __tmp_reg__,0
  58 0020 00C0      		rjmp .L3
  59               	.LM7:
  60 0022 CB01      		movw r24,r22
  61 0024 8058      		subi r24,lo8(-(128))
  62 0026 9F4F      		sbci r25,hi8(-(128))
  63 0028 FB01      		movw r30,r22
  64               	.LBB2:
  65               	.LM8:
  66 002a 01E0      		ldi r16,lo8(1)
  67               	.LVL2:
  68               	.L4:
  69               	.LM9:
  70 002c 4C91      		ld r20,X
  71               	.LVL3:
  72               	.LM10:
  73 002e 1196      		adiw r26,1
  74 0030 3C91      		ld r19,X
  75 0032 1197      		sbiw r26,1
  76 0034 20E0      		ldi r18,lo8(0)
  77 0036 E901      		movw r28,r18
  78 0038 C40F      		add r28,r20
  79 003a D11D      		adc r29,__zero_reg__
  80               	.LVL4:
  81               	.LM11:
  82 003c 1296      		adiw r26,2
  83               	.LVL5:
  84               	.LM12:
  85               	/* #APP */
  86               	 ;  220 "Wireless_Bootloader_ATmega328.c" 1
  87 003e 0E01      		movw  r0, r28
  88 0040 0093 5700 		sts 87, r16
  89 0044 E895      		spm
  90 0046 1124      		clr  r1
  91               		
  92               	 ;  0 "" 2
  93               	/* #NOAPP */
  94 0048 3296      		adiw r30,2
  95               	.LBE2:
  96               	.LM13:
  97 004a E817      		cp r30,r24
  98 004c F907      		cpc r31,r25
  99 004e 01F4      		brne .L4
 100               	.LM14:
 101 0050 85E0      		ldi r24,lo8(5)
 102 0052 FB01      		movw r30,r22
 103               	/* #APP */
 104               	 ;  223 "Wireless_Bootloader_ATmega328.c" 1
 105 0054 8093 5700 		sts 87, r24
 106 0058 E895      		spm
 107               		
 108               	 ;  0 "" 2
 109               	/* #NOAPP */
 110               	.L5:
 111               	.LM15:
 112 005a 07B6      		in __tmp_reg__,87-32
 113 005c 00FC      		sbrc __tmp_reg__,0
 114 005e 00C0      		rjmp .L5
 115               	.LM16:
 116 0060 81E1      		ldi r24,lo8(17)
 117               	/* #APP */
 118               	 ;  229 "Wireless_Bootloader_ATmega328.c" 1
 119 0062 8093 5700 		sts 87, r24
 120 0066 E895      		spm
 121               		
 122               	 ;  0 "" 2
 123               	.LM17:
 124               	/* #NOAPP */
 125 0068 1FBF      		out __SREG__,r17
 126               	/* epilogue start */
 127               	.LM18:
 128 006a DF91      		pop r29
 129 006c CF91      		pop r28
 130 006e 1F91      		pop r17
 131               	.LVL6:
 132 0070 0F91      		pop r16
 133 0072 0895      		ret
 134               	.LFE9:
 136               	.global	putch
 138               	putch:
 139               	.LFB10:
 140               	.LM19:
 141               	/* prologue: function */
 142               	/* frame size = 0 */
 143               	/* stack size = 0 */
 144               	.L__stack_usage = 0
 145               	.LVL7:
 146               	.L11:
 147               	.LM20:
 148 0074 9091 C000 		lds r25,192
 149 0078 95FF      		sbrs r25,5
 150 007a 00C0      		rjmp .L11
 151               	.LM21:
 152 007c 8093 C600 		sts 198,r24
 153               	/* epilogue start */
 154               	.LM22:
 155 0080 0895      		ret
 156               	.LFE10:
 158               	.global	putchKID
 160               	putchKID:
 161               	.LFB6:
 162               	.LM23:
 163               	/* prologue: function */
 164               	/* frame size = 0 */
 165               	/* stack size = 0 */
 166               	.L__stack_usage = 0
 167               	.LVL8:
 168               	.LM24:
 169 0082 8BE4      		ldi r24,lo8(75)
 170 0084 0E94 0000 		call putch
 171               	.LVL9:
 172 0088 80E3      		ldi r24,lo8(48)
 173 008a 0E94 0000 		call putch
 174               	.LVL10:
 175 008e 80E3      		ldi r24,lo8(48)
 176 0090 0E94 0000 		call putch
 177               	.LVL11:
 178 0094 80E3      		ldi r24,lo8(48)
 179 0096 0E94 0000 		call putch
 180               	.LVL12:
 181               	/* epilogue start */
 182               	.LM25:
 183 009a 0895      		ret
 184               	.LFE6:
 186               	.global	getch
 188               	getch:
 189               	.LFB11:
 190               	.LM26:
 191               	/* prologue: function */
 192               	/* frame size = 0 */
 193               	/* stack size = 0 */
 194               	.L__stack_usage = 0
 195               	.LM27:
 196 009c 81E0      		ldi r24,lo8(1)
 197 009e 8093 0000 		sts retransmit_flag,r24
 198               	.LVL13:
 199               	.LM28:
 200 00a2 80E0      		ldi r24,lo8(0)
 201 00a4 90E0      		ldi r25,hi8(0)
 202 00a6 DC01      		movw r26,r24
 203               	.LM29:
 204 00a8 00C0      		rjmp .L15
 205               	.LVL14:
 206               	.L17:
 207               	.LM30:
 208 00aa 0196      		adiw r24,1
 209 00ac A11D      		adc r26,__zero_reg__
 210 00ae B11D      		adc r27,__zero_reg__
 211               	.LVL15:
 212               	.LM31:
 213 00b0 813A      		cpi r24,lo8(100001)
 214 00b2 26E8      		ldi r18,hi8(100001)
 215 00b4 9207      		cpc r25,r18
 216 00b6 21E0      		ldi r18,hlo8(100001)
 217 00b8 A207      		cpc r26,r18
 218 00ba 20E0      		ldi r18,hhi8(100001)
 219 00bc B207      		cpc r27,r18
 220 00be 01F4      		brne .L15
 221               	.LM32:
 222 00c0 1092 0000 		sts retransmit_flag,__zero_reg__
 223               	.LM33:
 224 00c4 00C0      		rjmp .L16
 225               	.LVL16:
 226               	.L15:
 227               	.LM34:
 228 00c6 2091 C000 		lds r18,192
 229 00ca 27FF      		sbrs r18,7
 230 00cc 00C0      		rjmp .L17
 231               	.L16:
 232               	.LM35:
 233 00ce 8091 C600 		lds r24,198
 234               	.LVL17:
 235               	/* epilogue start */
 236               	.LM36:
 237 00d2 0895      		ret
 238               	.LFE11:
 240               	.global	checkID
 242               	checkID:
 243               	.LFB7:
 244               	.LM37:
 245 00d4 EF92      		push r14
 246 00d6 FF92      		push r15
 247 00d8 0F93      		push r16
 248 00da 1F93      		push r17
 249 00dc CF93      		push r28
 250 00de DF93      		push r29
 251               	/* prologue: function */
 252               	/* frame size = 0 */
 253               	/* stack size = 6 */
 254               	.L__stack_usage = 6
 255               	.LVL18:
 256               	.LM38:
 257 00e0 00E0      		ldi r16,lo8(ID)
 258 00e2 10E0      		ldi r17,hi8(ID)
 259               	.LM39:
 260 00e4 C0E0      		ldi r28,lo8(0)
 261 00e6 D0E0      		ldi r29,hi8(0)
 262               	.LVL19:
 263               	.L21:
 264               	.LM40:
 265 00e8 F801      		movw r30,r16
 266 00ea F190      		ld r15,Z+
 267 00ec 8F01      		movw r16,r30
 268 00ee 0E94 0000 		call getch
 269 00f2 F816      		cp r15,r24
 270 00f4 01F0      		breq .L20
 271               	.LM41:
 272 00f6 CFEF      		ldi r28,lo8(-1)
 273 00f8 DFEF      		ldi r29,hi8(-1)
 274               	.L20:
 275               	.LVL20:
 276               	.LM42:
 277 00fa F0E0      		ldi r31,hi8(ID+4)
 278 00fc 0030      		cpi r16,lo8(ID+4)
 279 00fe 1F07      		cpc r17,r31
 280 0100 01F4      		brne .L21
 281               	.LM43:
 282 0102 CE01      		movw r24,r28
 283               	/* epilogue start */
 284 0104 DF91      		pop r29
 285 0106 CF91      		pop r28
 286               	.LVL21:
 287 0108 1F91      		pop r17
 288 010a 0F91      		pop r16
 289 010c FF90      		pop r15
 290 010e EF90      		pop r14
 291 0110 0895      		ret
 292               	.LFE7:
 294               	.global	flash_led
 296               	flash_led:
 297               	.LFB12:
 298               	.LM44:
 299               	.LVL22:
 300               	/* prologue: function */
 301               	/* frame size = 0 */
 302               	/* stack size = 0 */
 303               	.L__stack_usage = 0
 304               	.LM45:
 305 0112 90E0      		ldi r25,lo8(0)
 306 0114 00C0      		rjmp .L25
 307               	.LVL23:
 308               	.L26:
 309               	.LM46:
 310 0116 2D9A      		sbi 37-32,5
 311               	.LM47:
 312 0118 2D98      		cbi 37-32,5
 313               	.LM48:
 314 011a 9F5F      		subi r25,lo8(-(1))
 315               	.LVL24:
 316               	.L25:
 317               	.LM49:
 318 011c 9817      		cp r25,r24
 319 011e 00F0      		brlo .L26
 320               	/* epilogue start */
 321               	.LM50:
 322 0120 0895      		ret
 323               	.LFE12:
 325               	.global	main
 327               	main:
 328               	.LFB8:
 329               	.LM51:
 330 0122 CF92      		push r12
 331 0124 DF92      		push r13
 332 0126 EF92      		push r14
 333 0128 FF92      		push r15
 334 012a 0F93      		push r16
 335 012c 1F93      		push r17
 336 012e CF93      		push r28
 337 0130 DF93      		push r29
 338               	/* prologue: function */
 339               	/* frame size = 0 */
 340               	/* stack size = 8 */
 341               	.L__stack_usage = 8
 342               	.LVL25:
 343               	.LM52:
 344 0132 1092 C500 		sts 197,__zero_reg__
 345               	.LM53:
 346 0136 83E3      		ldi r24,lo8(51)
 347 0138 8093 C400 		sts 196,r24
 348               	.LM54:
 349 013c 88E1      		ldi r24,lo8(24)
 350 013e 8093 C100 		sts 193,r24
 351               	.LM55:
 352 0142 259A      		sbi 36-32,5
 353               	.LM56:
 354 0144 81E0      		ldi r24,lo8(1)
 355 0146 0E94 0000 		call flash_led
 356               	.LM57:
 357 014a 85E0      		ldi r24,lo8(5)
 358 014c 0E94 0000 		call putch
 359               	.LVL26:
 360               	.LM58:
 361 0150 EE24      		clr r14
 362 0152 FF24      		clr r15
 363 0154 8701      		movw r16,r14
 364               	.LM59:
 365 0156 00C0      		rjmp .L49
 366               	.LVL27:
 367               	.L30:
 368               	.LM60:
 369 0158 0894      		sec
 370 015a E11C      		adc r14,__zero_reg__
 371 015c F11C      		adc r15,__zero_reg__
 372 015e 011D      		adc r16,__zero_reg__
 373 0160 111D      		adc r17,__zero_reg__
 374               	.LVL28:
 375               	.LM61:
 376 0162 21EA      		ldi r18,lo8(100001)
 377 0164 E216      		cp r14,r18
 378 0166 26E8      		ldi r18,hi8(100001)
 379 0168 F206      		cpc r15,r18
 380 016a 21E0      		ldi r18,hlo8(100001)
 381 016c 0207      		cpc r16,r18
 382 016e 20E0      		ldi r18,hhi8(100001)
 383 0170 1207      		cpc r17,r18
 384 0172 00F0      		brlo .L49
 385               	.LM62:
 386 0174 E091 0000 		lds r30,app_start
 387 0178 F091 0000 		lds r31,app_start+1
 388 017c 0995      		icall
 389               	.LVL29:
 390               	.L49:
 391               	.LM63:
 392 017e 8091 C000 		lds r24,192
 393 0182 87FF      		sbrs r24,7
 394 0184 00C0      		rjmp .L30
 395               	.LM64:
 396 0186 8091 C600 		lds r24,198
 397 018a 8630      		cpi r24,lo8(6)
 398 018c 01F0      		breq .L31
 399               	.LM65:
 400 018e E091 0000 		lds r30,app_start
 401 0192 F091 0000 		lds r31,app_start+1
 402 0196 0995      		icall
 403               	.L31:
 404               	.LM66:
 405 0198 0E94 0000 		call putchKID
 406               	.LM67:
 407 019c 0E94 0000 		call checkID
 408 01a0 EFEF      		ldi r30,hi8(-1)
 409 01a2 8F3F      		cpi r24,lo8(-1)
 410 01a4 9E07      		cpc r25,r30
 411 01a6 01F4      		brne .L32
 412               	.LM68:
 413 01a8 E091 0000 		lds r30,app_start
 414 01ac F091 0000 		lds r31,app_start+1
 415 01b0 0995      		icall
 416               	.L32:
 417               	.LM69:
 418 01b2 80E0      		ldi r24,lo8(0)
 419               	.LM70:
 420 01b4 91E1      		ldi r25,lo8(17)
 421 01b6 D92E      		mov r13,r25
 422               	.LVL30:
 423               	.L46:
 424               	.LM71:
 425 01b8 8823      		tst r24
 426 01ba 01F0      		breq .L34
 427               	.LVL31:
 428               	.L35:
 429               	.LM72:
 430 01bc 87E0      		ldi r24,lo8(7)
 431 01be 00C0      		rjmp .L51
 432               	.L34:
 433               	.LM73:
 434 01c0 84E5      		ldi r24,lo8(84)
 435               	.L51:
 436 01c2 0E94 0000 		call putch
 437               	.L50:
 438               	.LM74:
 439 01c6 0E94 0000 		call getch
 440 01ca 8A33      		cpi r24,lo8(58)
 441 01cc 01F0      		breq .L37
 442               	.LM75:
 443 01ce 8091 0000 		lds r24,retransmit_flag
 444 01d2 8823      		tst r24
 445 01d4 01F4      		brne .L50
 446 01d6 00C0      		rjmp .L35
 447               	.L37:
 448               	.LM76:
 449 01d8 0E94 0000 		call getch
 450 01dc 8093 0000 		sts page_length,r24
 451               	.LM77:
 452 01e0 9091 0000 		lds r25,retransmit_flag
 453 01e4 9923      		tst r25
 454 01e6 01F0      		breq .L35
 455               	.LM78:
 456 01e8 8335      		cpi r24,lo8(83)
 457 01ea 01F4      		brne .L39
 458               	.LM79:
 459 01ec 86E4      		ldi r24,lo8(70)
 460 01ee 0E94 0000 		call putch
 461               	.LM80:
 462               	/* #APP */
 463               	 ;  166 "Wireless_Bootloader_ATmega328.c" 1
 464 01f2 D092 5700 		sts 87, r13
 465 01f6 E895      		spm
 466               		
 467               	 ;  0 "" 2
 468               	.LM81:
 469               	/* #NOAPP */
 470 01f8 E091 0000 		lds r30,app_start
 471 01fc F091 0000 		lds r31,app_start+1
 472 0200 0995      		icall
 473               	.L39:
 474               	.LM82:
 475 0202 0E94 0000 		call getch
 476 0206 8093 0000 		sts page_address,r24
 477 020a 8091 0000 		lds r24,retransmit_flag
 478 020e 8823      		tst r24
 479 0210 01F0      		breq .L35
 480               	.LM83:
 481 0212 0E94 0000 		call getch
 482 0216 8093 0000 		sts page_address+1,r24
 483 021a 8091 0000 		lds r24,retransmit_flag
 484 021e 8823      		tst r24
 485 0220 01F0      		breq .L35
 486               	.LM84:
 487 0222 0E94 0000 		call getch
 488 0226 C82E      		mov r12,r24
 489               	.LVL32:
 490               	.LM85:
 491 0228 8091 0000 		lds r24,retransmit_flag
 492               	.LVL33:
 493 022c 8823      		tst r24
 494 022e 01F0      		breq .L35
 495 0230 C0E0      		ldi r28,lo8(incoming_page_data)
 496 0232 D0E0      		ldi r29,hi8(incoming_page_data)
 497 0234 7E01      		movw r14,r28
 498 0236 00E0      		ldi r16,lo8(0)
 499 0238 10E0      		ldi r17,hi8(0)
 500 023a 00C0      		rjmp .L40
 501               	.LVL34:
 502               	.L41:
 503               	.LM86:
 504 023c 0E94 0000 		call getch
 505 0240 F701      		movw r30,r14
 506 0242 8193      		st Z+,r24
 507 0244 7F01      		movw r14,r30
 508               	.LM87:
 509 0246 8091 0000 		lds r24,retransmit_flag
 510 024a 8823      		tst r24
 511 024c 01F4      		brne .+2
 512 024e 00C0      		rjmp .L35
 513               	.LM88:
 514 0250 0F5F      		subi r16,lo8(-(1))
 515 0252 1F4F      		sbci r17,hi8(-(1))
 516               	.LVL35:
 517               	.L40:
 518               	.LM89:
 519 0254 9091 0000 		lds r25,page_length
 520 0258 292F      		mov r18,r25
 521 025a 30E0      		ldi r19,lo8(0)
 522 025c 0217      		cp r16,r18
 523 025e 1307      		cpc r17,r19
 524 0260 00F0      		brlo .L41
 525               	.LM90:
 526 0262 2050      		subi r18,lo8(-(incoming_page_data))
 527 0264 3040      		sbci r19,hi8(-(incoming_page_data))
 528 0266 00C0      		rjmp .L42
 529               	.LVL36:
 530               	.L43:
 531               	.LM91:
 532 0268 8991      		ld r24,Y+
 533 026a C80E      		add r12,r24
 534               	.LVL37:
 535               	.L42:
 536               	.LM92:
 537 026c C217      		cp r28,r18
 538 026e D307      		cpc r29,r19
 539 0270 01F4      		brne .L43
 540               	.LVL38:
 541               	.LM93:
 542 0272 8091 0000 		lds r24,page_address+1
 543 0276 2091 0000 		lds r18,page_address
 544 027a 820F      		add r24,r18
 545               	.LM94:
 546 027c 890F      		add r24,r25
 547               	.LM95:
 548 027e 8C0D      		add r24,r12
 549               	.LVL39:
 550               	.LM96:
 551 0280 01F0      		breq .+2
 552 0282 00C0      		rjmp .L46
 553               	.LM97:
 554 0284 6091 0000 		lds r22,page_address
 555 0288 7091 0000 		lds r23,page_address+1
 556 028c 80E0      		ldi r24,lo8(0)
 557 028e 90E0      		ldi r25,hi8(0)
 558               	.LVL40:
 559 0290 40E0      		ldi r20,lo8(incoming_page_data)
 560 0292 50E0      		ldi r21,hi8(incoming_page_data)
 561 0294 0E94 0000 		call onboard_program_write
 562 0298 00C0      		rjmp .L34
 563               	.LFE8:
 565               	.global	app_start
 566               	.global	app_start
 567               		.section .bss
 570               	app_start:
 571 0000 0000      		.skip 2,0
 572               	.global	retransmit_flag
 573               		.data
 576               	retransmit_flag:
 577 0000 01        		.byte	1
 578               	.global	ID
 581               	ID:
 582 0001 4B30 3030 		.ascii	"K000"
 583               		.comm incoming_page_data,256,1
 584               		.comm page_length,1,1
 585               		.comm page_address,2,1
 658               	.Letext0:
DEFINED SYMBOLS
                            *ABS*:0000000000000000 Wireless_Bootloader_ATmega328.c
     /tmp/ccriUFu7.s:2      *ABS*:000000000000003f __SREG__
     /tmp/ccriUFu7.s:3      *ABS*:000000000000003e __SP_H__
     /tmp/ccriUFu7.s:4      *ABS*:000000000000003d __SP_L__
     /tmp/ccriUFu7.s:5      *ABS*:0000000000000034 __CCP__
     /tmp/ccriUFu7.s:6      *ABS*:0000000000000000 __tmp_reg__
     /tmp/ccriUFu7.s:7      *ABS*:0000000000000001 __zero_reg__
     /tmp/ccriUFu7.s:18     .text:0000000000000000 onboard_program_write
     /tmp/ccriUFu7.s:138    .text:0000000000000074 putch
     /tmp/ccriUFu7.s:160    .text:0000000000000082 putchKID
     /tmp/ccriUFu7.s:188    .text:000000000000009c getch
     /tmp/ccriUFu7.s:576    .data:0000000000000000 retransmit_flag
     /tmp/ccriUFu7.s:242    .text:00000000000000d4 checkID
     /tmp/ccriUFu7.s:581    .data:0000000000000001 ID
     /tmp/ccriUFu7.s:296    .text:0000000000000112 flash_led
     /tmp/ccriUFu7.s:327    .text:0000000000000122 main
     /tmp/ccriUFu7.s:570    .bss:0000000000000000 app_start
                            *COM*:0000000000000001 page_length
                            *COM*:0000000000000002 page_address
                            *COM*:0000000000000100 incoming_page_data

UNDEFINED SYMBOLS
__do_copy_data
__do_clear_bss
